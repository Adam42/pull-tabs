!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o(1),r=o(2),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=o(6),s=s||{ENV:"",browser:function(){},init:function(){this.ENV=r.config.configuration.mode,this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.setBrowser(),void 0===localStorage.pullTabsFolderId&&this.getBookmarks()},setBrowser:function(){"DEVELOPMENT"===this.ENV?this.browser=c:"undefined"!=typeof chrome?this.browser=u:this.browser=c},isFile:function(e){return e.split("/").pop().split(".").length>1},getTabs:function(){return this.browser.getTabs()},getBookmarks:function(e){this.browser.getBookmarks(e)},closeTabs:function(e){this.browser.closeTabs(e)},closeTab:function(){this.browser.closeTab(tab)},bookmarkTabs:function(e){this.browser.bookmarkTabs(e)},bookmarkTab:function(){this.browser.bookmarkTab(tab)},downloadUrls:function(e){this.browser.downloadUrls(e)},login:function(e){this.browser.login(e)},save:function(e,t){this.browser.save(e,t)},retrieve:function(e,t){return this.browser.retrieve(e,t)},createTab:function(e){this.browser.createTab(e)},store:function(e,t){this.browser.store(e,t)},getStorageType:function(){this.browser.getStorageType()}},c={downloadUrls:function(e){e.forEach(function(e){e.url})},getTabs:function(){return'[{"active":false,"height":779,"highlighted":false,"id":71,"incognito":false,"index":0,"pinned":false,"selected":false,"status":"complete","title":"Dot Boston: Apple, Bicycles, Boston, Dot and Web Media","url":"http://adamp.com/","width":1440,"windowId":68},{"active":false,"height":779,"highlighted":false,"id":83,"incognito":false,"index":1,"pinned":false,"selected":false,"status":"complete","title":"Is It Boston? Find out if your area is part of Boston.","url":"http://isitboston.com/","width":1440,"windowId":68},{"active":false,"height":779,"highlighted":false,"id":85,"incognito":false,"index":2,"pinned":false,"selected":false,"status":"complete","title":"amiacylon.com","url":"http://amiacylon.com/","width":1440,"windowId":68},{"active":true,"height":779,"highlighted":true,"id":91,"incognito":false,"index":3,"pinned":false,"selected":true,"status":"complete","title":"3571814663_5c742efc65_b.jpg (1024Ã—768)","url":"https://c4.staticflickr.com/4/3322/3571814663_5c742efc65_b.jpg","width":1440,"windowId":68}]'}},u={downloadUrls:function(e){e.forEach(function(e){if(void 0!==e.labelTabId&&null!==e.labelTabId){var t=document.getElementById("label-tab-"+e.labelTabId);document.getElementById("status")}var o={url:e.url};s.isFile(e.url)||(o.filename=a(e.title.toString())+".html"),s.isFirefox||(o.method="GET");try{chrome.downloads.download(o,function(o){if(void 0===o)return t&&t.setAttribute("class",t.className+" failed"),void form.updateStatus(e,"Failed downloading, trying with generic filename ");t&&t.setAttribute("class",t.className+" successful");var r=document.createElement("span"),i=document.createElement("a"),a=document.createTextNode("Downloaded ");i.title=e.title.toString(),i.href=e.url,i.textContent=e.title.toString(),r.appendChild(a),r.appendChild(i),n.a.updateStatusMessage(r,"short","success");e.active})}catch(t){form.updateStatus(e,"Error downloading ")}})},getTabs:function(){return new Promise(function(e,t){var o={currentWindow:!0};chrome.tabs.query(o,function(o){if("object"===(void 0===o?"undefined":i(o)))return void e(o);t(Error("Couldnt get tabs"))})})},getBookmarks:function(e){var t;e=function(e){t=e[0].children[1];var o,n=t.children.length,r=function(e){};for(o=0;o<n&&"Pulltabs"!==t.children[o].title;o++)if(o==n-1){var i={parentId:t.id,title:"Pulltabs"};chrome.bookmarks.create(i,r)}localStorage.pullTabsFolderId=t.children[o].id},void 0===localStorage.pullTabsFolderId&&chrome.bookmarks.getTree(e)},closeTabs:function(e){var t,o=e.length;for(t=0;t<o;t++)this.closeTab(e[t])},closeTab:function(e){chrome.tabs.remove(e.id)},bookmarkTabs:function(e){var t,o=e.length;for(t=0;t<o;t++)this.bookmarkTab(e[t])},bookmarkTab:function(e,t){var o={parentId:localStorage.pullTabsFolderId,title:e.title.toString(),url:e.url};chrome.bookmarks.create(o,function(t){var o=document.createElement("a"),r=document.createElement("span"),i=document.createTextNode("Successfuly bookmarked ");o.title=e.title.toString(),o.href=e.url,o.textContent=e.title.toString(),r.appendChild(i),r.appendChild(o),n.a.updateStatusMessage(r,"short","success")})},login:function(e){var t=chrome.extension.getURL("pocket.html");e.auth=e.auth+encodeURIComponent(t),window.open(e.auth)},loginViaWebAuthFlow:function(e){e.auth=e.auth+encodeURIComponent(chrome.identity.getRedirectURL()),e.interactive=!0;var t={url:e.auth,interactive:e.interactive};chrome.identity.launchWebAuthFlow(t,function(t){Pocket.getAccessToken(e)})},getStorageType:function(){if(s.isFirefox){if(void 0!==chrome.storage.local&&void 0!==chrome.storage.local.get)return s.storageType=chrome.storage.local,s.storageType}else if(void 0!==chrome.storage.sync&&void 0!==chrome.storage.sync.get)return s.storageType=chrome.storage.sync,s.storageType},store:function(e,t){if(s.getStorageType(),void 0===s.storageType)return void t();try{s.storageType.set(e,t)}catch(e){return}},save:function(e,t){chrome.storage;try{chrome.storage.local.set(t,function(){var t=document.getElementById("status");t.textContent=e+" saved.",setTimeout(function(){t.textContent=""},750)})}catch(e){}},retrieve:function(e,t){var o;return s.isFirefox?void 0!==chrome.storage.local&&void 0!==chrome.storage.local.get&&(o=chrome.storage.local):void 0!==chrome.storage.sync&&void 0!==chrome.storage.sync.get&&(o=chrome.storage.sync),new Promise(function(t,n){o.get(e,function(e){if(void 0!==e)return t(e),e;n(Error("Couldn't retrieve key"))})})},createTab:function(e){if(void 0!==chrome.tabs)return void chrome.tabs.create(e)},extensionGetURL:function(e){return void 0!==chrome.extension.getURL&&chrome.extension.getURL(e)}};i("undefined"!==s.ENV)&&s.ENV,s.init()},function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{updateStatusMessage:function(e,t,o){var r=document.getElementById("status"),i=document.createElement("p"),a="alert-"+o;if(i.classList.add("alert",a),r.classList.remove("hidden"),r.style.top=0,i.textContent=e,"object"===(void 0===e?"undefined":n(e))&&e instanceof HTMLElement&&(i.textContent="",i.appendChild(e)),i.id="status-message-"+r.children.length,r.children.length>0){var s=r.lastChild.id;s=s.replace("status-message-",""),s=parseInt(s)+1,i.id="status-message-"+s}switch(r.appendChild(i),t){case"short":setTimeout(this.removeStatusMessage,2e3,i.id);break;case"medium":setTimeout(this.removeStatusMessage,4e3,i.id);break;case"long":setTimeout(this.removeStatusMessage,8e3,i.id);break;case"dependent":return i.id;case"restack":break;default:setTimeout(this.removeStatusMessage,3e3,i.id)}},removeStatusMessage:function(e){null===typeof e&&(e="status-message-0");var t=document.getElementById(e),o=t.parentNode;t.remove(),o.children.length<=0&&o.classList.add("hidden")}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"config",function(){return n});var n=n||function(){return{credentials:{consumer_key:"***REMOVED***"},configuration:{mode:"PRODUCTION"},app:{name:"Pull Tabs"}}}()},,,,function(e,t,o){"use strict";function n(e,t){var o=e.replace(i,t).replace(a,t).replace(s,t).replace(c,t).replace(u,t);return r(o,255)}var r=o(7),i=/[\/\?<>\\:\*\|":]/g,a=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,c=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,u=/[\. ]+$/;e.exports=function(e,t){var o=t&&t.replacement||"",r=n(e,o);return""===o?r:n(r,"")}},function(e,t,o){"use strict";var n=o(8),r=o(9);e.exports=n.bind(null,r)},function(e,t,o){"use strict";function n(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e,t,o){if("string"!=typeof t)throw new Error("Input must be string");for(var i,a,s=t.length,c=0,u=0;u<s;u+=1){if(i=t.charCodeAt(u),a=t[u],n(i)&&r(t.charCodeAt(u+1))&&(u+=1,a+=t[u]),(c+=e(a))===o)return t.slice(0,u+1);if(c>o)return t.slice(0,u-a.length+1)}return t}},function(e,t,o){"use strict";function n(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,o=0,i=null,a=null,s=0;s<t;s++)i=e.charCodeAt(s),r(i)?null!=a&&n(a)?o+=1:o+=3:i<=127?o+=1:i>=128&&i<=2047?o+=2:i>=2048&&i<=65535&&(o+=3),a=i;return o}},,function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={init:function(){document.getElementById("options").addEventListener("click",function(e){e.preventDefault(),chrome.runtime.openOptionsPage()})}}},,,,,,,function(e,t,o){o(2),e.exports=o(19)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),r=o(0),i=i||{init:function(){var e,t=document.getElementById("about-credits"),o=t.getElementsByTagName("a"),n=o.length;for(e=0;e<n;e++)o[e].addEventListener("click",function(e){var t={url:e.target.href,active:!1};r.a.createTab(t)})}};document.addEventListener("DOMContentLoaded",function(){n.a.init(),i.init()})}]);